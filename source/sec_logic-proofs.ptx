<?xml version="1.0" encoding="UTF-8"?>

<section xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="sec_logic-proofs">
	<title>Proofs</title>

	<subsection xml:id="logic-proofs-intro">
		<title>Introduction</title>

		<investigation>
			<p>
				A <term>mini sudoku puzzle</term> is a <m>4\times 4</m> grid of squares, divided into four <m>2\times 2</m> boxes.
				The goal of the puzzle is to fill each square with a digit from 1 to 4, such that no digit repeats in any row, any column or any box.
			</p>

			<p>
				Here is a simple mini sudoku puzzle you can try to solve.
			</p>

			<image width="40%">
				<shortdescription>
					4x4 sudoku with given digits.
				</shortdescription>
				<latex-image label="img-sudoku-example">
				\begin{tikzpicture}
					\sudokuFour{
						2,~,~,1,
						~,4,~,~,
						~,~,3,~,
						~,~,~,~
					}
				\end{tikzpicture}
				</latex-image>
			</image>

			<p>
				The goal of this <em>Investigate!</em> activity is to prove something general about mini sudoku puzzles:  Suppose a mini sudoku puzzle has all different numbers it its four corners (marked with # below).
				Prove that the center four squares (marked with * below) must also contain different numbers.
			</p>

			<image width="40%">
				<shortdescription>
					4x4 sudoku with given digits.
				</shortdescription>
				<latex-image label="img-sudoku-invst-thm">
				\begin{tikzpicture}
					\sudokuFour{
						\#,~,~,\#,
						~,*,*,~,
						~,*,*,~,
						\#, , ,\#
					}
				\end{tikzpicture}
				</latex-image>
			</image>
		</investigation>

		<exercise label="ip-logic-proofs">
			<statement>
				<p>
					Try placing numbers into a mini sudoku puzzle.
					See if you can break the statement from the investigation.
					What stops you?  Briefly explain whether you think the statement is true or false, and why.
				</p>
			</statement>
			<response/>
		</exercise>

		<p>
			Anyone who doesn't believe there is creativity in mathematics clearly has not tried to write proofs.
			Finding a way to convince the world that a particular statement is necessarily true is a mighty undertaking and can often be quite challenging.
			There is not a guaranteed path to success in the search for proofs.
			For example, in the summer of 1742, a German mathematician by the name of Christian Goldbach wondered whether every even integer greater than 2 could be written as the sum of two primes.
			Centuries later, we still don't have a proof of this apparent fact (computers have checked that <q>Goldbach's Conjecture</q> holds for all numbers less than <m>4\times 10^{18}</m> but no proof that the statement holds for <em>all</em> numbers has been found).
		</p>

		<p>
			Writing proofs is a bit of an art.
			Like any art, to be truly great at it, you need some sort of inspiration, as well as some foundational technique.
			Just as musicians can learn proper fingering, and painters can learn the proper way to hold a brush, we can look at the proper way to construct arguments.
			A good place to start might be to study a classic.
		</p>

		<theorem>
			<statement>
				<p>
					There are infinitely many primes.
					<idx> <h>prime numbers</h> </idx>
				</p>
			</statement>
		</theorem>


		<proof>
			<p>
				Suppose this were not the case.
				That is, suppose there are only finitely many primes.
				Then there must be a last, largest prime, call it <m>p</m>.
				Consider the number
				<me>
					N = p! + 1 = (p \cdot (p-1) \cdot \cdots 3\cdot 2 \cdot 1) + 1
				</me>.
			</p>

			<p>
				Now <m>N</m> is certainly larger than <m>p</m>.
				Also, <m>N</m> is not divisible by any number less than or equal to <m>p</m>, since every number less than or equal to <m>p</m> divides <m>p!</m>.
				Thus the prime factorization of <m>N</m> contains prime numbers (possibly just <m>N</m> itself) all greater than <m>p</m>.
				So <m>p</m> is not the largest prime, a contradiction.
				Therefore there are infinitely many primes.
			</p>
		</proof>

		<p>
			This proof is an example of a <em>proof by contradiction</em>, one of the standard styles of mathematical proof.
			First and foremost, the proof is an argument.
			It contains sequence of statements, the last being the <em>conclusion</em> which follows from the previous statements.
			The argument is valid so the conclusion must be true if the premises are true.
			Let's go through the proof line by line.
		</p>

		<p>
			<ol>
				<li>
					<p>
						Suppose there are only finitely many primes.
						<em>[this is a premise.
						Note the use of <q>suppose.</q>]</em>
					</p>
				</li>

				<li>
					<p>
						There must be a largest prime, call it <m>p</m>.
						<em>[follows from line 1, by the definition of <q>finitely many.</q>]</em>
					</p>
				</li>

				<li>
					<p>
						Let <m>N = p! + 1</m>.
						<em>[basically just notation, although this is the inspired part of the proof; looking at <m>p! + 1</m> is the key insight.]</em>
					</p>
				</li>

				<li>
					<m>N</m> is larger than <m>p</m>. <em>[by the definition of <m>p!</m>]</em>
				</li>

				<li>
					<m>N</m> is not divisible by any number less than or equal to <m>p</m> . <em>[by definition, <m>p!</m> is divisible by each number less than or equal to <m>p</m>, so <m>p! + 1</m> is not.]</em>
				</li>

				<li>
					<p>
						The prime factorization of <m>N</m> contains prime numbers greater than <m>p</m>.
						<em>[since <m>N</m> is divisible by each prime number in the prime factorization of <m>N</m>, and by line 5.]</em>
					</p>
				</li>

				<li>
					<p>
						Therefore <m>p</m> is not the largest prime.
						<em>[by line 6, <m>N</m> is divisible by a prime larger than <m>p</m>.]</em>
					</p>
				</li>

				<li>
					<p>
						This is a contradiction.
						<em>[from line 2 and line 7: the largest prime is <m>p</m> and there is a prime larger than <m>p</m>.]</em>
					</p>
				</li>

				<li>
					<p>
						Therefore there are infinitely many primes.
						<em>[from line 1 and line 8: our only premise lead to a contradiction, so the premise is false.]</em>
					</p>
				</li>
			</ol>
		</p>

		<p>
			We should say a bit more about the last line.
			Up through line 8, we have a valid argument with the premise <q>there are only finitely many primes</q> and the conclusion <q>there is a prime larger than the largest prime.</q> This is a valid argument as each line follows from previous lines.
			So if the premises are true, then the conclusion <em>must</em> be true.
			However, the conclusion is NOT true.
			The only way out: the premise must be false.
		</p>

		<p>
			The sort of line-by-line analysis we did above is a great way to really understand what is going on.
			Whenever you come across a proof in a textbook, you really should make sure you understand what each line is saying and why it is true.
		</p>

		<p>
			Thinking about the proof as a whole, we can analyze the proof through two distinct but intersecting lenses.
			First, we can think about the <em>logical</em> structure of the proof.
			Recognizing the above proof as a proof by contradiction is an example of this.
			Second, we can look at the <em>mathematical content</em> of the proof.
			How does the proof illustrate understanding of mathematical concepts?  Does it use definitions of mathematical objects correctly?  How do the definitions interact with each other?  Recall that in <xref ref="sec_logic-rules"/> we said that a <term>tautology</term> is a necessarily true statement, but doesn't tell us anything interesting.
			Similarly, if a proof relied entirely on the logical form of the statement it was proving, it wouldn't tell us anything interesting about mathematics.
			Thus all the proofs we consider <em>must</em> involve some combining of mathematical concepts in addition to their logical structure.
		</p>

		<p>
			In this section will will see examples of how the interaction between logical and mathematical structure plays out.
			We will think of the logical structure as the <em>skeleton</em> or <em>scaffolding</em> of the proof, and look at the different shapes this skeleton can take.
			We will then see how the mathematical content of the proof fills in the details of the skeleton; how it adds meat to the bones.
		</p>

		<p>
			It is often challenging to be careful about proofs when the statements we try to prove seem too obvious or familiar.
			While we will definitely want to prove simple facts about numbers, liked that the sum of two even numbers is even, our familiarity with numbers can make it difficult to take this task seriously.
			So instead, we will start by proving some facts in what is hopefully a novel setting: mini sudoku puzzles.
		</p>

		<objectives>
			<introduction>
				<p>
					After completing this section, you should be able to do the following.
				</p>
			</introduction>

			<ul>
				<li>
					<p>
						Identify the logical structure of, and distinguish between, <em>direct proofs</em>, a <em>proof by contrapositives</em> and a <em>proof by contradictions</em>.
					</p>
				</li>

				<li>
					<p>
						Identify flaws in a incorrect proof and determine whether they are flaws in logic or mathematical concepts.
					</p>
				</li>

				<li>
					<p>
						Apply definitions to prove statements using basic proof styles.
					</p>
				</li>
			</ul>
		</objectives>
		<!-- Preview activity? -->
	</subsection>


	<subsection>
		<title>Direct Proof</title>

		<idx> <h>direct proof</h> </idx>
		<p>
			The simplest style of proof is a <term>direct proof</term>.
			Often all that is required to prove something is a systematic explanation of what everything means.
			You look at the definitions, carefully explain and <em>unpack</em> their meaning, until you see that the conclusion is true.
		</p>

		<p>
			To illustrate the importance of definitions in a proof, let's give a few careful definitions about mini sudoku puzzles.
		</p>

		<definition xml:id="def-mini-sudoku">
			<title>Mini Sudoku Definitions</title>

			<statement>
				<p>
					A <term>mini sudoku puzzle</term> is a partially filled in <m>4\times 4</m> grid of squares, divided into four <m>2\times 2</m> boxes.
					Each square can be empty or contain a digit from 1 to 4.
				</p>

				<p>
					We say that a mini sudoku puzzle is <term>valid</term> provided no digit from 1 to 4 appears more than once in any row, any column, or any box.
				</p>

				<p>
					A <term>solution</term> to a mini sudoku puzzle is a valid puzzle with no empty squares and every non-empty square of the puzzle unchanged.
				</p>

				<p>
					We say that that a mini sudoku puzzle is <term>solvable</term> if there is exactly one solution.
				</p>
			</statement>
		</definition>

		<p>
			First, let's prove a useful fact about any valid mini sudoku puzzle.
		</p>


		<proposition xml:id="prop-mini-sudoku-full">
			<statement>
				<p>
					Any solution to a mini sudoku puzzle will have each digit from 1 to 4 will appear exactly once in each row, in each column, and in each box, appearing a total of four times
				</p>
			</statement>
		</proposition>

		<p>
			That's obvious, you say!  Isn't that exactly what a valid puzzle is?  Well, a valid completed puzzle, which is what we mean by a solution?  Okay, not exactly, since valid means that no digit repeats...
			isn't that the same thing?
		</p>

		<p>
			Yes!  Exactly! Saying this is a direct proof.
		</p>


		<proof>
			<p>
				Suppose you have a solution to a mini sudoku puzzle.
				That means that you have a <m>4 \times 4</m> grid with each square filled in with a digit from 1 to 4 that is valid.<fn>Definition of <term>solution</term></fn> Since the puzzle is <em>valid</em>, no digit repeats in any row, any column, or any box<fn>Definition of <term>valid</term></fn>.
				Since a row contains four numbers that do not repeat, and there are exactly four possible digits, each of those digits must appears exactly once.
				This is true for every row, and for every column, and for every box.
			</p>

			<p>
				For each digit, since it appears exactly once in four different rows, it appears exactly four times.
				This completes the proof.
			</p>
		</proof>

		<remark>
			<p>
				The proof contained one key mathematical idea, besides just explaining definitions: that if you have four distinct numbers from a set of four numbers, you have each of them included.  Perhaps you want to also explain why this is true.  How much you explain depends on who you are writing the proof for.
			</p>
		</remark>

		<p>
			Here is another example of a direct proof.
		</p>

		
		<example>
			<statement>
				<p>
					Prove that any solution to the mini sudoku puzzle below will contain a 2 in the bottom-left square (r4c1).
				</p>

				<image width="40%">
					<shortdescription>
						A mini sudoku puzzle.
					</shortdescription>
					<latex-image>
						\begin{tikzpicture}
							\sudokuFour{
								3,1,4,~,
								~,~,~,1,
								~,~,2,3,
								~,3,~,~
							}
						\end{tikzpicture}
					</latex-image>
				</image>
			</statement>

			<solution>
				<p>
					We do not know whether the puzzle is solvable, although note that it is valid right now (it might have more than one solution, perhaps).  What we want to prove is that <em>if</em> <m>S</m> is a particular solution, then <m>S</m> contains a 2 in the bottom-left square.
				</p>

				<proof>
					<p>
						Let <m>S</m> be a solution to the puzzle.
						Then <m>S</m> is a valid puzzle, so no digit repeats in any row, any column, or any box.
						Look first at the top row.  By <xref ref="prop-mini-sudoku-full"/>, this row must contain a 2, which must be in r1c4 (top-right square) since that is the only open spot for it.
					</p>
					<p>
						Now look at column 4 (the rightmost column).  By <xref ref="prop-mini-sudoku-full"/>, this column must contain a 4, which must be in r4c4 (bottom-right square) since that is the only open spot for it, once we have placed the 2 in r1c4.
					</p>
					<p>
						Now look at the bottom right <em>box</em>.  Again, by <xref ref="prop-mini-sudoku-full"/>, this box must contain a 1, which must be in r4c3 since that is the only open spot for it, once we have placed the 4 in r4c4.
					</p>
					<p>
						Finally, look at row 4.  It must contain a 2, which must be in r4c1 (bottom-left square) since that is the only open spot for it, once we have placed the 1 in r4c3 and the 4 in r4c4.
					</p>
						<p>
							Thus <m>S</m> contains a 2 in the bottom-left square.
						</p>
				</proof>
			</solution>
		</example>

		<p>
			Observe the general form of the argument above.  We were trying to prove an implication <m>P \imp Q</m>.  We started by assuming <m>P</m> was true.  From that, we deduced something, and from that something we deduced something else, and so on, until we at last deduced <m>Q</m>.

			This is exactly what a direct proof of an implication <m>P \imp Q</m> looks like.
		</p>

		<blockquote>
			<p>
				Assume <m>P</m>.
				Explain, explain, <ellipsis />, explain.
				Therefore <m>Q</m>.
			</p>
		</blockquote>

		<p>
			The one additional consideration we must make is that often we are proving a general statement.  So really we will prove a statement of the form <m>\forall x (P(x) \imp Q(x))</m>.  (In the example above, <m>P(x)</m> was <q><m>x</m> is a solution to the puzzle</q> and <m>Q(x)</m> was <q><m>x</m> contains a 2 in the bottom-left square.</q>)  To handle the quantifier, we fix an <em>arbitrary</em> instance of <m>x</m>.  (Above, we said, <q>Suppose <m>S</m> is a solution to the puzzle.</q>)  
		</p>
		<p>
			For example, if we wanted to prove that, <q>all squares are rectangles,</q>, first realize that this is the same as saying, <q>for any shape, if the shape is a square, then it is a rectangle.</q>  In symbols, <m>\forall x (S(x) \imp R(x))</m>.
			We will want to assume <m>P(x)</m> is true and deduce <m>Q(x)</m>.
			Which <m>x</m> do we use?  An arbitrary one, so our proof can be applied to <em>all</em> possible <m>x</m>.  
		</p>

		<example>
			<statement>
				<p>
					Prove that for any valid mini sudoku puzzle, if the puzzle has a solution, then the puzzle is is solvable.
				</p>
			</statement>
			<solution>
				<p>
					This is obviously true: if you have one square left to fill in, and it is possible to solve the puzzle, you <em>can</em> solve the puzzle!  Let's focus on the logical structure of the proof though.  Notice that we are proving that the claim is true no matter what mini sudoku puzzle we start with.  We might start with this puzzle:
				</p>
				
				<image>
					<shortdescription>4x4 sudoku with only one missing digit.</shortdescription>
					<latex-image label="img-sudoku-almost-done-eg">
						\begin{tikzpicture}
							\sudokuFour{
								3,1,4,2,
								2,4,3,1,
								1,3,~,4,
								4,2,1,3
							}
						\end{tikzpicture}
					</latex-image>
				</image>
				<p>
					Clearly there is only one way to complete the puzzle, so exactly one solution, which is the definition of <em>solvable</em>.
					Looking at a single example can often be helpful when crafting a proof, but proving a general statement with an example is never a correct proof. 
				</p>	
				<p>
					While there are <em>only</em> around 152.58 billion mini sudoku puzzles (and most of those are not valid, fewer have solutions, and even fewer have exactly one empty square), we really don't want to check all possible puzzles.  So instead, we fix an arbitrary valid mini sudoku puzzle.  We assume that it has a solution and has exactly one open square.  From this, we prove that it is solvable.
				</p>

				<proof>
					<p>
						Let <m>P</m> be an arbitrary mini sudoku puzzle Assume <m>P</m> has exactly one empty square and that <m>S</m> is a solution.  Suppose that the empty square is in row <m>i</m> and column <m>j</m>.  Let <m>n</m> be the digit that appears in the empty square in the solution <m>S</m>.  Since a solution is necessarily valid, <m>n</m> does not appear in row <m>i</m>, column <m>j</m>, or the box containing its square.  In particular, in row <m>i</m>, the squares that are not empty in <m>P</m> contain the three digits 1 to 4 that are not <m>n</m>.  Therefore, the <em>only</em> possible digit that can go in the empty square is <m>n</m>.  Thus <m>P</m> is solvable.
					</p>
				</proof>
			</solution>
		</example>

		<p>
			Direct proof can, of course, be used to prove statements in mathematics too.
		</p>

		<example xml:id="eg-logic-proofs-sqr-even-even">
			<statement>
				<p>
					Prove: For all integers <m>n</m>, if <m>n</m> is even, then <m>n^2</m> is even.
				</p>
			</statement>

			<solution>
				<p>
					The format of the proof will be this: Let <m>n</m> be an arbitrary integer.
					Assume that <m>n</m> is even.
					Explain explain explain.
					Therefore <m>n^2</m> is even.
				</p>

				<p>
					To fill in the details, we explain what it means for <m>n</m> to be even, and then see what that means for <m>n^2</m>.
					The <em>definition</em> that is relevant here is, <q>an integer <m>n</m> is <term>even</term> if there is an integer <m>k</m> such that <m>n = 2k</m>.</q> Here is a complete proof.
				</p>


				<proof>
					<p>
						Let <m>n</m> be an arbitrary integer.
						Suppose <m>n</m> is even.
						Then <m>n = 2k</m> for some integer <m>k</m>.
						Now <m>n^2 = (2k)^2 = 4k^2 = 2(2k^2)</m>.
						Since <m>2k^2</m> is an integer, <m>n^2</m> is even.
					</p>
				</proof>
			</solution>
		</example>

		<example>
			<statement>
				<p>
					Prove: For all integers <m>a</m>, <m>b</m>, and <m>c</m>, if <m>b</m> is a multiple of <m>a</m>, and <m>c</m> is a multiple of <m>b</m>, then <m>c</m> is a multiple of <m>a</m>. 
				</p>
			</statement>

			<solution>
				<p>
					Even if we don't remember exactly what <q>is a multiple of</q> means, we can set up a direct proof for this statement.
					It will go something like this: Let <m>a</m>, <m>b</m>, and <m>c</m> be arbitrary integers.
					Assume that <m>b</m> is a multiple of <m>a</m> and that <m>c</m> is a multiple of <m>b</m>.
					Dot dot dot.
					Therefore <m>c</m> is a multiple of <m>a</m>.
				</p>

				<p>
					How do we connect the dots? We say what our hypothesis really means and why this gives us what the conclusion really means.  This is where we need the definition of <term><m>b</m> is a multiple of <m>a</m></term>: this means that <m>b = ka</m> for some integers <m>k</m>.
					What are we going for? That <m>c = la</m>, for some integer <m>l</m>.
					Here is the complete proof.
				</p>


				<proof>
					<p>
						Let <m>a</m>, <m>b</m>, and <m>c</m> be integers.
						Assume that <m>b</m> is a multiple of <m>a</m> and that <m>c</m> is a multiple of <m>b</m>.
						So there are integers <m>k</m> and <m>j</m> such that <m>b = ka</m> and <m>c = jb</m>.
						Combining these (through substitution) we get that <me>c = j(ka) = (jk)a</me>.
						But <m>jk</m> is an integer, so this says that <m>c</m> is a multiple of <m>a</m>.
					</p>
				</proof>
			</solution>
		</example>
	</subsection>


	<subsection label="ssec_contrapositive-proof">
		<title>Proof by Contrapositive</title>

		<idx> <h>contrapositive</h> <h>proof by</h> </idx>
		<idx> <h>proof</h> <h>by contrapositive</h> </idx>
		<!-- here -->
		<p>
			Recall that an implication <m>P \imp Q</m> is logically equivalent to its contrapositive <m>\neg Q \imp \neg P</m>.
			There are plenty of examples of statements which are hard to prove directly, but whose contrapositive can easily be proved using a direct proof.
			This is all that <term>proof by contrapositive</term> does.
			It gives a direct proof of the contrapositive of the implication.
			This is enough because the contrapositive is logically equivalent to the original implication.
		</p>

		<p>
			The skeleton of the proof of <m>P \imp Q</m> by contrapositive will always look roughly like this:
		</p>

		<blockquote>
			<p>
				Assume <m>\neg Q</m>.
				Explain, explain, <ellipsis /> explain.
				Therefore <m>\neg P</m>.
			</p>
		</blockquote>

		<p>
			As before, if there are variables and quantifiers, we set them to be arbitrary elements of our domain.
		</p>

		<example>
			<statement>
				<p>
					Prove that if a mini sudoku puzzle is solvable, then it is valid.
				</p>
			</statement>
			<solution>
				<p>
					Remember, a puzzle is valid provided no row, column, or box contains a repeated digit.  A puzzle is solvable if there is exactly one solution, where a solution is a valid puzzle with no empty squares (that doesn't change any previously filled-in square).
				</p>

				<p>
					If we try a direct proof, we would start with an arbitrary puzzle and assume it is solvable.  We could then <q>get</q> the solution, but would need to reason back in time to when the puzzle started.  This seems hard.  Often, when a proof seems to requires breaking things apart, it is easier to try the contrapositive.  That's what we will do.
				</p>
				<proof>
					<p>
						Let <m>P</m> be an arbitrary mini sudoku puzzle and assume that it is <em>not</em> valid.  This means that in at least one row, or one column, or one box, some digit appears more than once.
					</p>

					<p>
						Now suppose we have filled in the empty squares, but not changed any previously filled-in square.  The original row, column, or box that contained a duplicate digit will still contain that duplication, so the resulting completed puzzle will not be valid.  Thus no solution to <m>P</m> exists, so <m>P</m> is not solvable.
					</p>
				</proof>

				<p>
					We have proved that if a mini sudoku puzzle is not valid, then it is not solvable, which is the contrapositive of what we wanted to prove, so serves as a proof of the original statement.
				</p>
			</solution>

		</example>


		<p>
			Here are a couple more mathy examples.
		</p>

		<example>
			<statement>
				<p>
					Is the statement <q>for all integers <m>n</m>, if <m>n^2</m> is even, then <m>n</m> is even</q> true?
				</p>
			</statement>

			<solution>
				<p>
					This is the converse of the statement we proved in <xref ref="eg-logic-proofs-sqr-even-even"/> above using a direct proof.
					From trying a few examples, this statement definitely appears to be true.
					So let's prove it.
				</p>

				<p>
					A direct proof of this statement would require fixing an arbitrary <m>n</m> and assuming that <m>n^2</m> is even.
					But it is not at all clear how this would allow us to conclude anything about <m>n</m>.
					Just because <m>n^2 = 2k</m> does not in itself suggest how we could write <m>n</m> as a multiple of 2.
				</p>

				<p>
					Try something else: write the contrapositive of the statement.
					We get, for all integers <m>n</m>, if <m>n</m> is odd then <m>n^2</m> is odd.
					This looks much more promising.
				</p>

				<p>
					We need a definition of a number being odd: an integer <m>n</m> is <term>odd</term> provided <m>n = 2k+1</m> for some integer <m>k</m>.
					Our proof will look something like this:
				</p>

				<p>
					Let <m>n</m> be an arbitrary integer.
					Suppose that <m>n</m> is not even.
					This means that <ellipsis />.
					In other words <ellipsis />.
					But this is the same as saying <ellipsis />.
					Therefore <m>n^2</m> is not even.
				</p>

				<p>
					Now we fill in the details:
				</p>


				<proof>
					<p>
						We will prove the contrapositive.
						Let <m> n</m> be an arbitrary integer.
						Suppose that <m>n</m> is not even, and thus odd.
						Then <m>n= 2k+1</m> for some integer <m>k</m>.
						Now <m>n^2 = (2k+1)^2 = 4k^2 + 4k + 1 = 2(2k^2 + 2k) + 1</m>.
						Since <m>2k^2 + 2k</m> is an integer, we see that <m>n^2</m> is odd and therefore not even.
					</p>
				</proof>
			</solution>
		</example>

		<example>
			<statement>
				<p>
					Prove: for all integers <m>a</m> and <m>b</m>, if <m>a + b</m> is odd, then <m>a</m> is odd or <m>b</m> is odd.
				</p>
			</statement>

			<solution>
				<p>
					The problem with trying a direct proof is that it will be hard to separate <m>a</m> and <m>b</m> from knowing something about <m>a+b</m>.
					On the other hand, if we know something about <m>a</m> and <m>b</m> separately, then combining them might give us information about <m>a+b</m>.
					The contrapositive of the statement we are trying to prove is: for all integers <m>a</m> and <m>b</m>, if <m>a</m> and <m>b</m> are even, then <m>a+b</m> is even.
					Thus our proof will have the following format:
				</p>

				<p>
					Let <m>a</m> and <m>b</m> be integers.
					Assume that <m>a</m> and <m>b</m> are both even.
					la la la.
					Therefore <m>a+b</m> is even.
				</p>

				<p>
					Here is a complete proof:
				</p>


				<proof>
					<p>
						Let <m>a</m> and <m>b</m> be integers.
						Assume that <m>a</m> and <m>b</m> are even.
						Then <m>a = 2k</m> and <m>b = 2l</m> for some integers <m>k</m> and <m>l</m>.
						Now <m>a + b = 2k + 2l = 2(k+l)</m>.
						Since <m>k + l</m> is an integer, we see that <m>a + b</m> is even, completing the proof.
					</p>
				</proof>

				<p>
					Note that our assumption that <m>a</m> and <m>b</m> are even is really the negation of <m>a</m> or <m>b</m> is odd.
					We used De Morgan's law here.
				</p>
			</solution>
		</example>

		<p>
			We have seen how to prove some statements in the form of implications: either directly or by contrapositive.
			Remember that some statements that are not written as implications to begin with can be rephrased as implications.
		</p>

		<example>
			<statement>
				<p>
					Consider the following statement: for every prime number <m>p</m>, either <m>p = 2</m> or <m>p</m> is odd.
					We can rephrase this: for every prime number <m>p</m>, if <m>p \ne 2</m>, then <m>p</m> is odd.
					Now try to prove it.
				</p>

				<p>
					Use this as the definition of a prime number: an integer <m>p \gt 1</m> is <term>prime</term> provided it has exactly two factors: <m>1</m> and <m>p</m>.
				</p>
			</statement>

			<solution>
				<proof>
					<p>
						Let <m>p</m> be an arbitrary prime number.
						Assume <m>p</m> is not odd.
						So <m>p</m> is divisible by 2.
						Since <m>p</m> is prime, it must have exactly two divisors, and it has 2 as a divisor, so <m>p</m> must be divisible by only 1 and 2.
						Therefore <m>p = 2</m>.
						This completes the proof (by contrapositive).
					</p>
				</proof>
			</solution>
		</example>
	</subsection>


	<subsection>
		<title>Proof by Contradiction</title>

		<idx> <h>contradiction</h> </idx>
		<idx> <h>proof</h> <h>by contradiction</h> </idx>
		<!-- This next paragraph is confusing, and there is likely a better way to describe it. -->
		<p>
			There might be statements which really cannot be rephrased as implications.
			For example, <q><m>\sqrt 2</m> is irrational.</q> In this case, it is hard to know where to start.
			What can we assume? Well, say we want to prove the statement <m>P</m>.
			What if we could prove that <m>\neg P \imp Q</m> where <m>Q</m> was false? If this implication is true, and <m>Q</m> is false, what can we say about <m>\neg P</m>? It must be false as well, which makes <m>P</m> true!
		</p>

		<p>
			This is why <term>proof by contradiction</term> works.
			If we can prove that <m>\neg P</m> leads to a contradiction, then the only conclusion is that <m>\neg P</m> is false, so <m>P</m> is true.
			That's what we wanted to prove.
			In other words, if it is impossible for <m>P</m> to be false, <m>P</m> must be true.
		</p>

		<p>
			Here are three examples of proofs by contradiction:
		</p>

		<example>
			<statement>
				<p>
					Prove that <m>\sqrt{2}</m> is irrational.
				</p>
			</statement>

			<solution>
				<proof>
					<p>
						Suppose not.
						Then <m>\sqrt 2</m> is equal to a fraction <m> \frac{a}{b}</m>.
						Without loss of generality, assume <m>\frac{a}{b}</m> is in lowest terms (otherwise reduce the fraction).
						So,
						<me>
							2 = \frac{a^2}{b^2}
						</me>
						<me>
							2b^2 = a^2
						</me>.
					</p>

					<p>
						Thus <m>a^2</m> is even, and as such <m>a</m> is even.
						So <m>a = 2k</m> for some integer <m>k</m>, and <m>a^2 = 4k^2</m>.
						We then have,
						<me>
							2b^2 = 4k^2
						</me>
						<me>
							b^2 = 2k^2
						</me>.
					</p>

					<p>
						Thus <m>b^2</m> is even, and as such <m>b</m> is even.
						Since <m>a</m> is also even, we see that <m>\frac{a}{b}</m> is not in lowest terms, a contradiction.
						Thus <m>\sqrt 2</m> is irrational.
					</p>
				</proof>
			</solution>
		</example>

		<example>
			<statement>
				<p>
					Prove: There are no integers <m>x</m> and <m>y</m> such that <m>x^2 = 4y + 2</m>.
				</p>
			</statement>

			<solution>
				<proof>
					<p>
						We proceed by contradiction.
						So suppose there <em>are</em> integers <m>x</m> and <m>y</m> such that <m>x^2 = 4y + 2 = 2(2y + 1)</m>.
						So <m>x^2</m> is even.
						We have seen that this implies that <m>x</m> is even.
						So <m>x = 2k</m> for some integer <m>k</m>.
						Then <m>x^2 = 4k^2</m>.
						This in turn gives <m>2k^2 = (2y + 1)</m>.
						But <m>2k^2</m> is even, and <m>2y + 1</m> is odd, so these cannot be equal.
						Thus we have a contradiction, so there must not be any integers <m>x</m> and <m>y</m> such that <m>x^2 = 4y + 2</m>.
					</p>
				</proof>
			</solution>
		</example>

		<example>
			<statement>
				<p>
					The <term>Pigeonhole Principle</term>:
					<idx> <h>pigeonhole principle</h> </idx>
					If more than <m>n</m> pigeons fly into <m>n</m> pigeon holes, then at least one pigeon hole will contain at least two pigeons.
					Prove this!
				</p>
			</statement>

			<solution>
				<proof>
					<p>
						Suppose, contrary to stipulation, that each of the pigeon holes contain at most one pigeon.
						Then at most, there will be <m>n</m> pigeons.
						But we assumed that there are more than <m>n</m> pigeons, so this is impossible.
						Thus there must be a pigeonhole with more than one pigeon.
					</p>
				</proof>

				<p>
					While we phrased this proof as a proof by contradiction, we could have also used a proof by contrapositive since our contradiction was simply the negation of the hypothesis.
					Sometimes this will happen, in which case you can use either style of proof.
					There are examples however where the contradiction occurs <q>far away</q> from the original statement.
				</p>
			</solution>
		</example>
	</subsection>


	<subsection>
		<title>Proof by (counter) Example</title>

		<idx> <h>counterexample</h> </idx>
		<p>
			It is almost NEVER okay to prove a statement with just an example.
			Certainly none of the statements proved above can be proved through an example.
			This is because in each of those cases we are trying to prove that something holds of <u>all</u> integers.
			We claim that <m>n^2</m> being even implies that <m>n</m> is even, <em>no matter what integer</em> <m>n</m> we pick.
			Showing that this works for <m>n = 4</m> is not even close to enough.
		</p>

		<p>
			This cannot be stressed enough.
			If you are trying to prove a statement of the form <m>\forall x P(x)</m>, you absolutely CANNOT prove this with an example.<fn> This is not to say that looking at examples is a waste of time.
			Doing so will often give you an idea of how to write a proof.
			But the examples do not belong in the proof.
			</fn>
		</p>

		<p>
			However, existential statements can be proven this way.
			If we want to prove that there is an integer <m>n</m> such that <m>n^2-n+41</m> is not prime, all we need to do is find one.
			This might seem like a silly thing to want to prove until you try a few values for <m>n</m>.
		</p>

		<sidebyside>
			<tabular halign="center">
				<row bottom="minor">
					<cell right="minor"> <m>n</m> </cell>
					<cell> 1</cell>
					<cell>2</cell>
					<cell>3</cell>
					<cell>4</cell>
					<cell>5</cell>
					<cell>6</cell>
					<cell>7</cell>
				</row>

				<row>
					<cell right="minor"> <m>n^2 - n + 41</m> </cell>
					<cell> 41</cell>
					<cell>43</cell>
					<cell>47</cell>
					<cell>53</cell>
					<cell>61</cell>
					<cell>71</cell>
					<cell>83</cell>
				</row>
			</tabular>
		</sidebyside>

		<p>
			So far we have gotten only primes.
			You might be tempted to conjecture, <q>For all positive integers <m>n</m>, the number <m>n^2 - n + 41</m> is prime.</q> If you wanted to prove this, you would need to use a direct proof, a proof by contrapositive, or another style of proof, but certainly it is not enough to give even 7 examples.
			In fact, we can prove this conjecture is <em> false</em> by proving its negation: <q>There is a positive integer <m>n</m> such that <m>n^2 - n + 41</m> is not prime.</q> Since this is an existential statement, it suffices to show that there does indeed exist such a number.
		</p>

		<p>
			In fact, we can quickly see that <m>n = 41</m> will give <m>41^2</m> which is certainly not prime.
			You might say that this is a counterexample to the conjecture that <m>n^2 - n + 41</m> is always prime.
			Since so many statements in mathematics are universal, making their negations existential, we can often prove that a statement is false (if it is) by providing a counterexample.
		</p>

		<example>
			<statement>
				<p>
					Above we proved, <q>for all integers <m>a</m> and <m>b</m>, if <m>a+b</m> is odd, then <m>a</m> is odd or <m>b</m> is odd.</q> Is the converse true?
				</p>
			</statement>

			<solution>
				<p>
					The converse is the statement, <q>for all integers <m>a</m> and <m>b</m>, if <m>a</m> is odd or <m>b</m> is odd, then <m>a + b</m> is odd.</q> This is false! How do we prove it is false? We need to prove the negation of the converse.
					Let's look at the symbols.
					The converse is
					<me>
						\forall a \forall b ((O(a) \vee O(b)) \imp O(a+b))
					</me>.
				</p>

				<p>
					We want to prove the negation:
					<me>
						\neg \forall a \forall b ((O(a) \vee O(b)) \imp O(a+b))
					</me>.
				</p>

				<p>
					Simplify using the rules from the previous sections:
					<me>
						\exists a \exists b ((O(a) \vee O(b)) \wedge \neg O(a+b))
					</me>.
				</p>

				<p>
					As the negation passed by the quantifiers, they changed from <m>\forall</m> to <m>\exists</m>.
					We then needed to take the negation of an implication, which is equivalent to asserting the if part and not the then part.
				</p>

				<p>
					Now we know what to do.
					To prove that the converse is false we need to find two integers <m>a</m> and <m>b</m> so that <m>a</m> is odd or <m>b</m> is odd, but <m>a+b</m> is not odd (so even).
					That's easy: 1 and 3.
					(remember, <q>or</q> means one or the other or both).
					Both of these are odd, but <m>1+3 = 4</m> is not odd.
				</p>
			</solution>
		</example>
	</subsection>


	<subsection>
		<title>Proof by Cases</title>

		<idx> <h>cases</h> </idx>
		<idx> <h>proof</h> <h>by cases</h> </idx>
		<p>
			We could go on and on and on about different proof styles (we will discuss combinatorial proofs and proofs by induction in later sections), but instead we will end with one final useful technique: proof by cases.
			The idea is to prove that <m>P</m> is true by proving that <m>Q \imp P</m> and <m>\neg Q \imp P</m> for some statement <m>Q</m>.
			So no matter what, whether or not <m>Q</m> is true, we know that <m>P</m> is true.
			In fact, we could generalize this.
			Suppose we want to prove <m>P</m>.
			We know that at least one of the statements <m>Q_1, Q_2, \ldots, Q_n</m> is true.
			If we can show that <m>Q_1 \imp P</m> and <m>Q_2 \imp P</m> and so on all the way to <m>Q_n \imp P</m>, then we can conclude <m>P</m>.
			The key thing is that we want to be sure that one of our cases (the <m>Q_i</m>'s) must be true no matter what.
		</p>

		<p>
			If that last paragraph was confusing, perhaps an example will make things better.
		</p>

		<example>
			<statement>
				<p>
					Prove: For any integer <m>n</m>, the number <m>(n^3 -n)</m> is even.
				</p>
			</statement>

			<solution>
				<p>
					It is hard to know where to start this, because we don't know much of anything about <m>n</m>.
					We might be able to prove that <m>n^3 - n</m> is even if we knew that <m>n</m> was even.
					In fact, we could probably prove that <m>n^3-n</m> was even if <m>n</m> was odd.
					But since <m>n</m> must either be even or odd, this will be enough.
					Here's the proof.
				</p>


				<proof>
					<p>
						We consider two cases: if <m>n</m> is even or if <m>n</m> is odd.
					</p>

					<p>
						<u>Case 1</u>: <m>n</m> is even. Then <m>n = 2k</m> for some integer <m>k</m>. This give
						<md>
							<mrow>n^3 - n \amp = 8k^3 - 2k</mrow>
							<mrow>\amp = 2(4k^3 - k)</mrow>
						</md>,
						and since <m>4k^3 - k</m> is an integer, this says that <m>n^3-n</m> is even.
					</p>

					<p>
						<u>Case 2</u>: <m> n</m> is odd. Then <m>n = 2k+1</m> for some integer <m>k</m>. This gives
						<md>
							<mrow>n^3 - n \amp = (2k+1)^3 - (2k+1)</mrow>
							<mrow>\amp = 8k^3 + 12k^2 + 6k + 1 - 2k - 1</mrow>
							<mrow>\amp = 2(4k^3 + 6k^2 + 2k)</mrow>
						</md>,
						and since <m>4k^3 + 6k^2 + 2k</m> is an integer, we see that <m>n^3 - n</m> is even again.
					</p>

					<p>
						Since <m>n^3 - n</m> is even in both exhaustive cases, we see that <m>n^3 - n</m> is indeed always even.
					</p>
				</proof>
			</solution>
		</example>
	</subsection>

	<reading-questions xml:id="rqs-logic-proof">
		<exercise label="rq-logic-proofs-direct">
			<statement>
				<p>
					Which of the following would be the best first line of a <em>direct proof</em> if you wanted to prove the statement, <q>For all sets <m>A</m> of single digit numbers, if <m>|A| = 6</m>, then <m>A</m> contains an even number.</q>
				</p>
			</statement>


			<choices randomize="yes">
				<choice>
					<statement>
						<p>
							Suppose there exists a set <m>A</m> of single digit numbers with <m>|A| = 6</m> but that contains only odd numbers.
						</p>
					</statement>

					<feedback>
						<p>
							Incorrect.
							A direct proof starts by assuming the hypothesis of the implication you wish to prove.
							Try again.
						</p>
					</feedback>
				</choice>

				<choice correct="yes">
					<statement>
						<p>
							Fix an arbitrary set <m>A</m> of single digit numbers and assume <m>|A| = 6</m>.
						</p>
					</statement>

					<feedback>
						<p>
							Correct! A direct proof starts by assuming the hypothesis of the implication you wish to prove.
						</p>
					</feedback>
				</choice>

				<choice>
					<statement>
						<p>
							Suppose <m>A</m> is a set of single digit numbers with <m>|A| \ne 6</m>.
						</p>
					</statement>

					<feedback>
						<p>
							Incorrect.
							What is the <q>if</q> part of the statement you are trying to prove? Try again.
						</p>
					</feedback>
				</choice>

				<choice>
					<statement>
						<p>
							Let <m>A</m> be a set of single digit numbers that contains an even number.
						</p>
					</statement>

					<feedback>
						<p>
							Incorrect.
							Try again.
						</p>
					</feedback>
				</choice>

				<choice>
					<statement>
						<p>
							Let <m>A</m> be a set of single digit numbers, and assume that <m>A</m> does not contain any even numbers.
						</p>
					</statement>

					<feedback>
						<p>
							Incorrect.
							Try again.
						</p>
					</feedback>
				</choice>
			</choices>
		</exercise>

		<exercise label="rq-logic-proof-contrapositive">
			<statement>
				<p>
					Which of the following would be the best first line of a <em>proof by contrapositive</em> if you wanted to prove the statement, <q>For all sets <m>A</m> of single digit numbers, if <m>|A| = 6</m>, then <m>A</m> contains an even number.</q>
				</p>
			</statement>


			<choices randomize="yes">
				<choice>
					<statement>
						<p>
							Suppose there exists a set <m>A</m> of single digit numbers with <m>|A| = 6</m> but that contains only odd numbers.
						</p>
					</statement>

					<feedback>
						<p>
							Incorrect.
							What is the contrapositive of what we are trying to prove? Try again.
						</p>
					</feedback>
				</choice>

				<choice>
					<statement>
						<p>
							Fix an arbitrary set <m>A</m> of single digit numbers and assume <m>|A| = 6</m>.
						</p>
					</statement>

					<feedback>
						<p>
							Incorrect.
							We are trying to prove the contrapositive, so assume the if part of the contrapositive.
							Try again.
						</p>
					</feedback>
				</choice>

				<choice>
					<statement>
						<p>
							Suppose <m>A</m> is a set of single digit numbers with <m>|A| \ne 6</m>.
						</p>
					</statement>

					<feedback>
						<p>
							Incorrect.
							The contrapositive of <m>P \imp Q</m> is <m>\neg Q \imp \neg P</m>.
							Proofs by contrapositive should start by assuming <m>\neg Q</m>.
							Try again.
						</p>
					</feedback>
				</choice>

				<choice>
					<statement>
						<p>
							Let <m>A</m> be a set of single digit numbers that contains an even number.
						</p>
					</statement>

					<feedback>
						<p>
							Incorrect.
							The contrapositive of <m>P \imp Q</m> is <m>\neg Q \imp \neg P</m>.
							Proofs by contrapositive should start by assuming <m>\neg Q</m>.
							Try again.
						</p>
					</feedback>
				</choice>

				<choice correct="yes">
					<statement>
						<p>
							Let <m>A</m> be a set of single digit numbers, and assume that <m>A</m> does not contain any even numbers.
						</p>
					</statement>

					<feedback>
						<p>
							Correct!
						</p>
					</feedback>
				</choice>
			</choices>
		</exercise>

		<exercise label="rq-logic-proof-contradiction">
			<statement>
				<p>
					Which of the following would be the best first line of a <em>proof by contradiction</em> if you wanted to prove the statement, <q>For all sets <m>A</m> of single digit numbers, if <m>|A| = 6</m>, then <m>A</m> contains an even number.</q>
				</p>
			</statement>


			<choices randomize="yes">
				<choice correct="yes">
					<statement>
						<p>
							Suppose there exists a set <m>A</m> of single digit numbers with <m>|A| = 6</m> but that contains only odd numbers.
						</p>
					</statement>

					<feedback>
						<p>
							Correct! This is the negation of the statement we are trying to prove.
						</p>
					</feedback>
				</choice>

				<choice>
					<statement>
						<p>
							Fix an arbitrary set <m>A</m> of single digit numbers and assume <m>|A| = 6</m>.
						</p>
					</statement>

					<feedback>
						<p>
							Incorrect.
							A proof by contradiction should start by assuming the negation of what we are trying to prove.
							Try again.
						</p>
					</feedback>
				</choice>

				<choice>
					<statement>
						<p>
							Suppose <m>A</m> is a set of single digit numbers with <m>|A| \ne 6</m>.
						</p>
					</statement>

					<feedback>
						<p>
							Incorrect.
							A proof by contradiction should start by assuming the negation of what we are trying to prove.
							Try again.
						</p>
					</feedback>
				</choice>

				<choice>
					<statement>
						<p>
							Let <m>A</m> be a set of single digit numbers that contains an even number.
						</p>
					</statement>

					<feedback>
						<p>
							Incorrect.
							A proof by contradiction should start by assuming the negation of what we are trying to prove.
							Try again.
						</p>
					</feedback>
				</choice>

				<choice>
					<statement>
						<p>
							Let <m>A</m> be a set of single digit numbers, and assume that <m>A</m> does not contain any even numbers.
						</p>
					</statement>

					<feedback>
						<p>
							Incorrect.
							A proof by contradiction should start by assuming the negation of what we are trying to prove.
							Try again.
						</p>
					</feedback>
				</choice>
			</choices>
		</exercise>

		<exercise label="rq-logic-proof-q">
			<statement>
				<p>
					What questions do you have after reading this section? Write at least one question about the content of this section that you are curious about.
				</p>
			</statement>
			<response />
		</exercise>
	</reading-questions>

	<xi:include href="practice/logic-proofs.ptx" />
	<xi:include href="exercises/logic-proofs.ptx" />
</section>
